<mat-sidenav-container class="sidenav-container">
  <!-- Sidebar -->
  <mat-sidenav 
    #sidenav 
    mode="side" 
    [opened]="false"
    [ngClass]="{'logged-in': isAdminLoggedIn, 'logged-out': !isAdminLoggedIn}">
    
    <mat-nav-list>
      <mat-list-item [routerLink]="'/login'" (click)="sidenav.close()">
        <mat-icon mat-list-icon>login</mat-icon>
        <span mat-line>Login</span>
      </mat-list-item>
      
      <mat-list-item [routerLink]="'/signup'" (click)="sidenav.close()">
        <mat-icon mat-list-icon>person_add</mat-icon>
        <span mat-line>Sign Up</span>
      </mat-list-item>
      
      <mat-list-item (click)="logout(); sidenav.close()">
        <mat-icon mat-list-icon>logout</mat-icon>
        <span mat-line>Log Out</span>
      </mat-list-item>

      <mat-list-item [routerLink]="'/forgot-password'" (click)="sidenav.close()">
        <mat-icon mat-list-icon>help_outline</mat-icon>
        <span mat-line>Forgot Password</span>
      </mat-list-item>
      
      <mat-list-item [routerLink]="'/verify-email'" (click)="sidenav.close()">
        <mat-icon mat-list-icon>email</mat-icon>
        <span mat-line>Verifiy Email</span>
      </mat-list-item>

      <mat-list-item [routerLink]="'/dashboard'" (click)="sidenav.close()">
        <mat-icon mat-list-icon>dashboard</mat-icon>
        <span mat-line>Dashboard</span>
      </mat-list-item>

      <!-- Only show this if the user is an admin -->
      <mat-list-item *ngIf="isAdminLoggedIn" routerLink="'/admin'" (click)="sidenav.close()">
        <mat-icon mat-list-icon>admin_panel_settings</mat-icon>
        <span mat-line>Admin Dashboard</span>
      </mat-list-item>

      <mat-list-item [routerLink]="'/community'" (click)="sidenav.close()">
        <mat-icon mat-list-icon>group</mat-icon>
        <span mat-line>Community</span>
      </mat-list-item>

      <mat-list-item [routerLink]="'/reports'" (click)="sidenav.close()">
        <mat-icon mat-list-icon>assessment</mat-icon>
        <span mat-line>Reports</span>
      </mat-list-item>
    </mat-nav-list>
  </mat-sidenav>

  <!-- Main Content -->
  <mat-sidenav-content>
    <mat-toolbar color="primary">
      <button mat-icon-button (click)="sidenav.toggle()">
        <mat-icon>menu</mat-icon>
      </button>
      <span class="app-title">HandsTalk</span>
      <span class="spacer"></span>
      <button mat-icon-button [routerLink]="'/home'">
        <mat-icon>home</mat-icon>
      </button>
    </mat-toolbar>

    <div class="container">
      <div *ngIf="errorMessage" class="error-message">
        {{ errorMessage }}
      </div>
    </div>

    <footer class="footer">
      <p>&copy; 2025 HandsTalk | All Rights Reserved</p>
    </footer>
  </mat-sidenav-content>
</mat-sidenav-container>

<router-outlet></router-outlet>
